<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>All Organics</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
      text-align: center;
      padding: 40px;
    }

    h1 {
      color: #4CAF50;
    }

    button {
      padding: 12px 24px;
      background-color: #4CAF50;
      color: white;
      font-size: 18px;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.3s ease;
      border: none;
      border-radius: 8px;
    }

    button:hover {
      background-color: #45a049;
      transform: scale(1.05);
    }

    .product img {
      margin-top: 30px;
      transition: transform 0.5s ease-in-out;
      width: 220px;
      border-radius: 10px;
    }

    .animate-img {
      animation: bounce 1s ease-in-out;
    }

    @keyframes bounce {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-20px);
      }
    }

    .info {
      margin-top: 50px;
      text-align: left;
      max-width: 750px;
      margin-left: auto;
      margin-right: auto;
      background: #fff;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }

    .info h2 {
      color: #333;
      margin-top: 25px;
    }

    .info p {
      color: #555;
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <section class="preferences">
    <h1>Welcome to All Organics</h1>
    <button id="toggleAnimationBtn">Toggle Product Animation</button>
  </section>

  <section class="product">
    <img id="animatedImage" src="chillie.jpg" alt="Organic Chillie" />
  </section>

  <section class="info">
    <h2>Function Scope in JavaScript</h2>
    <p>Function scope means variables declared inside a function are only accessible within that function. This helps keep things organized.</p>

    <h2>Calling Functions Before Declaration</h2>
    <p>If a function is defined using the <code>function</code> keyword, it can be called before it's written in the code because JavaScript hoists it.</p>

    <h2>Purpose of the Return Statement</h2>
    <p>The <code>return</code> statement gives back a value from a function. If thereâ€™s no return, the function gives <code>undefined</code> by default.</p>

    <h2>CSS Transitions & Timing</h2>
    <p>The <code>transition</code> property makes changes in CSS look smooth. <code>transition-duration</code> controls how long the change takes. <code>transition-timing-function</code> sets how the speed feels (e.g. linear, ease-in).</p>

    <h2>Dynamically Adding Classes with JavaScript</h2>
    <p>Using <code>element.classList.add()</code>, we can apply styles to elements when something happens, like a button click.</p>

    <h2>Changing Styles with JavaScript</h2>
    <p>You can use <code>element.style.property</code> to directly change CSS styles using JavaScript. Great for interactive effects.</p>

    <h2>Using localStorage</h2>
    <p><code>localStorage</code> lets you store user settings like animation preferences. They stay saved even if the page is refreshed.</p>
  </section>

  <script>
    const btn = document.getElementById("toggleAnimationBtn");
    const img = document.getElementById("animatedImage");

    window.addEventListener("DOMContentLoaded", () => {
      const prefersAnimation = localStorage.getItem("prefersAnimation");
      if (prefersAnimation === "true") {
        enableAnimation();
      } else {
        disableAnimation();
      }
    });

    btn.addEventListener("click", () => {
      const current = localStorage.getItem("prefersAnimation") === "true";
      if (current) {
        localStorage.setItem("prefersAnimation", "false");
        disableAnimation();
      } else {
        localStorage.setItem("prefersAnimation", "true");
        enableAnimation();
      }
    });

    function enableAnimation() {
      img.classList.add("animate-img");
      img.addEventListener("animationend", () => {
        img.classList.remove("animate-img");
      }, { once: true });
    }

    function disableAnimation() {
      img.classList.remove("animate-img");
    }
  </script>
</body>
</html>
